import math
import numpy as np
import pybullet as p

deg2rad = math.pi/180


class State:
    def __init__(self, pos, orn, jointPositions, gripper_command=0.0, gripper_state=0.0):
        self.pos = np.array(pos).round(2)
        self.orn = np.multiply(deg2rad, orn).round(2)
        self.jointPositions = np.array(jointPositions).round(2)  # this needs to be taken first from the simulation according to the pos and orn you want
        self.gripper_command = gripper_command
        self.gripper_state = gripper_state


s0 = State([0, 0.55, -0.8],    [180, 0, -90],  [1.55, 0.79, 0.2, -0.5, 2.5, 3.4, 1.2, 0.02, 0.02])
s1 = State([0, 0.4, -0.45],    [180, 0, -90],  [0.904, -0.848, 0.75, -2.831, 2.967, 2.506, 1.472, 0.02, 0.02])
s2 = State([0, 0.2, -0.85],    [180, 0, -90],  [1.0164, 1.0438, 0.732, -1.4066, 2.967, 2.467, 0.299, 0.02, 0.02])
s3 = State([0.65, 0.2, 0],     [-90, 0, -90],  [1.0527, 0.7185, -1.0044, -2.29, -2.967, 2.08, 1.296, 0.02, 0.02])
s4 = State([0.3, 0.65, 0.03],  [-90, 0, -90],  [0.007, -1.131, -0.147, -2.395, -2.92, 3.461, 0.425, 0.02, 0.02])
s5 = State([0.55, 0.65, 0.03], [-90, 0, -90],  [0.327, -0.421, -0.357, -1.971, -2.965, 3.138, 0.464, 0.02, 0.02])

''' used states '''
s6 = State([0.4, 0.75, 0.05],  [90, 0, 90],    [0.487, -0.997, -0.465, -2.333, -1.146, 2.897, 1.526, 0.04, 0.04])
s7 = State([0.55, 0.75, 0.05], [90, 0, 90],    [0.675, -0.517, -0.734, -1.967, -1.524, 3.133, 1.972, 0.04, 0.04])
s8 = State([0.56, 0.75, 0.05], [90, 0, 90],    [0.675, -0.517, -0.734, -1.967, -1.524, 3.133, 1.972, 0.02, 0.02], 1.0, 1.0)
s9 = State([0.58, 0.75, 0.35], [90, 0, 90],    [1.243, -1.058, -1.168, -1.72, -1.022, 2.877, 0.824, 0.01, 0.01], 1.0, 1.0)
s10 = State([0.56, 0.75, 0.3], [90, 0, 90],   [1.243, -1.058, -1.168, -1.72, -1.022, 2.877, 0.824, 0.04, 0.04], 0.0, 0.0)

s11 = State([0.4, 0.75, 0.3],   [90, 0, 90],   [0.797, -1.268, -0.879, -2.129, -0.985, 2.766, 0.861, 0.04, 0.04], 0.0, 0.0)
s12 = State([0.3, 0.5, -0.3],   [90, 0, 0],    [0.815, -0.416, 0.025, -2.054, -0.011, 1.637, 1.582, 0.04, 0.04], 0.0, 0.0)
s13 = State([0.45, 0.2, 0.0],  [90, 0, 0],   [0.55, -0.106, -0.57, -2.54, -0.09, 2.447, 0.85, 0.04, 0.04], 0.0, 0.0)
s14 = State([0.45, 0.11, 0.0],  [90, 0, 0],   [0.45, 0.186, -0.38, -2.563, 0.15, 2.73, 0.7, 0.04, 0.04], 0.0, 0.0)
s15 = State([0.45, 0.11, 0.0],  [90, 0, 0],   [0.3, 0.15, -0.3, -2.566, 0.1, 2.7, 0.73, 0.02, 0.02], 1.0, 1.0)
s16 = State([0.45, 0.22, 0.0], [90, 0, 0],   [0.5, -0.103, -0.538, -2.54, -0.086, 2.447, 0.85, 0.025, 0.025], 1.0, 1.0)

s17 = State([0.4, 0.75, 0.1],   [90, 0, 90],    [0.343, -0.8855, -0.5205, -2.4247, -0.338, 3.0986, 0.7516, 0.025, 0.025], 1.0, 1.0)
s18 = State([0.7, 0.6, 0.2],  [90, 0, 85],    [1.704, -0.447, -1.761, -1.878, -0.19, 3.513, 0.521, 0.02, 0.02], 1.0, 1.0)
s19 = State([0.7, 0.6, 0.2],  [90, 0, 85],     [1.704, -0.447, -1.761, -1.878, -0.19, 3.513, 0.521, 0.04, 0.04], 0.0, 0.0)
''' end '''

s20 = State([0.0, 0.22, -0.6],  [90, 0, 0],     [1.55, 0.302, 0.0, -2.008, 0.0, 2.311, 2.35, 0.04, 0.04], 1.0, 1.0)
s21 = State([0.0, 0.5, -0.5],   [90, 0, 0],     [1.55, 0.302, 0.0, -2.008, 0.0, 2.311, 2.35, 0.04, 0.04], 1.0, 1.0)

state_list = [s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17, s18, s19, s20, s21]